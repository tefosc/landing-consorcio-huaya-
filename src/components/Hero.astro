---
import { ArrowRight, Building2, Users, Award } from "lucide-astro";
---

<section
  id="inicio"
  class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"
>
  <!-- Background Pattern -->
  <div class="absolute inset-0 bg-grid-pattern opacity-5"></div>

  <!-- Floating Elements -->
  <div
    class="absolute top-20 left-10 w-20 h-20 bg-blue-600/10 rounded-full animate-float"
  >
  </div>
  <div
    class="absolute top-40 right-20 w-32 h-32 bg-blue-400/10 rounded-full animate-float-delayed"
  >
  </div>
  <div
    class="absolute bottom-40 left-20 w-24 h-24 bg-blue-500/10 rounded-full animate-float"
  >
  </div>

  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <!-- Content Side -->
      <div class="text-center lg:text-left animate-on-scroll">
        <div class="mb-6">
          <span
            class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 mb-6"
          >
            Construcción Sostenible
          </span>
        </div>

        <h1
          class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white leading-tight mb-6"
        >
          Construimos el
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-800 dark:from-blue-400 dark:to-blue-600"
          >
            futuro sostenible
          </span>
          de Amazonas
        </h1>

        <p
          class="text-lg sm:text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto lg:mx-0"
        >
          Somos <strong>Consorcio Ejecutor Huaya</strong>, empresa líder en
          construcción que desarrolla proyectos con responsabilidad ambiental y
          social en la región Amazonas.
        </p>

        <div
          class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-12"
        >
          <a
            href="#servicios"
            class="inline-flex items-center justify-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
          >
            Ver Servicios
            <ArrowRight class="ml-2 w-5 h-5" />
          </a>
          <a
            href="#contacto"
            class="inline-flex items-center justify-center px-8 py-4 border-2 border-blue-600 text-blue-600 dark:text-blue-400 font-semibold rounded-xl hover:bg-blue-600 hover:text-white transition-all duration-300"
          >
            Contáctanos
          </a>
        </div>

        <!-- Stats -->
        <div
          class="grid grid-cols-3 gap-8 pt-8 border-t border-gray-200 dark:border-gray-700"
        >
          <div class="text-center">
            <div class="flex justify-center mb-2">
              <Building2 class="w-8 h-8 text-blue-600 dark:text-blue-400" />
            </div>
            <div class="text-2xl font-bold text-gray-900 dark:text-white">
              50+
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-400">
              Proyectos
            </div>
          </div>
          <div class="text-center">
            <div class="flex justify-center mb-2">
              <Users class="w-8 h-8 text-blue-600 dark:text-blue-400" />
            </div>
            <div class="text-2xl font-bold text-gray-900 dark:text-white">
              100+
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-400">Clientes</div>
          </div>
          <div class="text-center">
            <div class="flex justify-center mb-2">
              <Award class="w-8 h-8 text-blue-600 dark:text-blue-400" />
            </div>
            <div class="text-2xl font-bold text-gray-900 dark:text-white">
              5+
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-400">Años</div>
          </div>
        </div>
      </div>

      <!-- Visual Side - Carousel -->
      <div class="relative animate-on-scroll">
        <div class="relative z-10">
          <!-- Carousel Container -->
          <div class="relative rounded-3xl overflow-hidden shadow-2xl">
            <!-- Carousel Wrapper -->
            <div class="carousel-wrapper relative h-80">
              <!-- Carousel Items -->
              <div class="carousel-item active">
                <img
                  src="/images/carousel-1.jpg"
                  alt="Proyecto 1"
                  class="w-full h-full object-cover"
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
                />
                <div
                  class="w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 items-center justify-center hidden"
                  style="display: none;"
                >
                  <div class="text-center text-white">
                    <Building2 class="w-24 h-24 mx-auto mb-4 opacity-80" />
                    <p class="text-lg font-semibold">
                      Construcción Profesional
                    </p>
                    <p class="text-sm opacity-80">En la región Amazonas</p>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <img
                  src="/images/carousel-2.jpg"
                  alt="Proyecto 2"
                  class="w-full h-full object-cover"
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
                />
                <div
                  class="w-full h-full bg-gradient-to-br from-green-400 to-green-600 items-center justify-center hidden"
                  style="display: none;"
                >
                  <div class="text-center text-white">
                    <Building2 class="w-24 h-24 mx-auto mb-4 opacity-80" />
                    <p class="text-lg font-semibold">
                      Infraestructura Sostenible
                    </p>
                    <p class="text-sm opacity-80">Proyectos Ecológicos</p>
                  </div>
                </div>
              </div>

              <div class="carousel-item">
                <img
                  src="/images/carousel-3.jpg"
                  alt="Proyecto 3"
                  class="w-full h-full object-cover"
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
                />
                <div
                  class="w-full h-full bg-gradient-to-br from-purple-400 to-purple-600 items-center justify-center hidden"
                  style="display: none;"
                >
                  <div class="text-center text-white">
                    <Building2 class="w-24 h-24 mx-auto mb-4 opacity-80" />
                    <p class="text-lg font-semibold">Obras de Calidad</p>
                    <p class="text-sm opacity-80">Excelencia en Cada Detalle</p>
                  </div>
                </div>
              </div>

              <!-- Navigation Arrows -->
              <button
                class="carousel-prev absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-all z-10 focus:outline-none"
                aria-label="Anterior"
              >
                <svg
                  class="w-6 h-6 text-gray-800 dark:text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 19l-7-7 7-7"></path>
                </svg>
              </button>
              <button
                class="carousel-next absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 p-3 rounded-full shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-all z-10 focus:outline-none"
                aria-label="Siguiente"
              >
                <svg
                  class="w-6 h-6 text-gray-800 dark:text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5l7 7-7 7"></path>
                </svg>
              </button>

              <!-- Indicators -->
              <div
                class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10"
              >
                <button
                  class="carousel-indicator active w-3 h-3 rounded-full bg-white focus:outline-none"
                  data-index="0"></button>
                <button
                  class="carousel-indicator w-3 h-3 rounded-full bg-white/50 focus:outline-none"
                  data-index="1"></button>
                <button
                  class="carousel-indicator w-3 h-3 rounded-full bg-white/50 focus:outline-none"
                  data-index="2"></button>
              </div>
            </div>
          </div>

          <!-- Floating Cards -->
          <div
            class="absolute -top-4 -left-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-4 transform rotate-6 hover:rotate-3 transition-transform duration-300"
          >
            <div class="flex items-center space-x-3">
              <div class="w-3 h-3 bg-green-500 rounded-full"></div>
              <span class="text-sm font-medium text-gray-700 dark:text-gray-300"
                >Nuestros proyectos</span
              >
            </div>
          </div>

          <div
            class="absolute -bottom-4 -right-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-4 transform -rotate-6 hover:-rotate-3 transition-transform duration-300"
          >
            <div class="text-center">
              <div class="text-2xl font-bold text-blue-600">100%</div>
              <div class="text-xs text-gray-600 dark:text-gray-400">
                Sostenible
              </div>
            </div>
          </div>
        </div>

        <!-- Background Decoration -->
        <div
          class="absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-3xl transform rotate-6 scale-105 -z-10"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .bg-grid-pattern {
    background-image: linear-gradient(
        rgba(59, 130, 246, 0.05) 1px,
        transparent 1px
      ),
      linear-gradient(90deg, rgba(59, 130, 246, 0.05) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float 6s ease-in-out infinite;
    animation-delay: -3s;
  }

  /* Carousel Styles */
  .carousel-wrapper {
    position: relative;
    overflow: hidden;
  }

  .carousel-item {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    pointer-events: none;
  }

  .carousel-item.active {
    opacity: 1;
    pointer-events: auto;
  }

  .carousel-indicator {
    transition: all 0.3s ease;
  }

  .carousel-indicator.active {
    background-color: white;
    transform: scale(1.2);
  }
</style>

<script>
  // Carousel functionality
  document.addEventListener("DOMContentLoaded", () => {
    const items = document.querySelectorAll(".carousel-item");
    const indicators = document.querySelectorAll(".carousel-indicator");
    const prevBtn = document.querySelector(".carousel-prev");
    const nextBtn = document.querySelector(".carousel-next");
    let currentIndex = 0;
    let autoplayInterval: ReturnType<typeof setInterval>;

    function showSlide(index: number) {
      items.forEach((item, i) => {
        item.classList.toggle("active", i === index);
      });
      indicators.forEach((indicator, i) => {
        indicator.classList.toggle("active", i === index);
      });
    }

    function nextSlide() {
      currentIndex = (currentIndex + 1) % items.length;
      showSlide(currentIndex);
    }

    function prevSlide() {
      currentIndex = (currentIndex - 1 + items.length) % items.length;
      showSlide(currentIndex);
    }

    function startAutoplay() {
      autoplayInterval = setInterval(nextSlide, 5000);
    }

    function stopAutoplay() {
      clearInterval(autoplayInterval);
    }

    // Event listeners
    prevBtn?.addEventListener("click", () => {
      prevSlide();
      stopAutoplay();
      startAutoplay();
    });

    nextBtn?.addEventListener("click", () => {
      nextSlide();
      stopAutoplay();
      startAutoplay();
    });

    indicators.forEach((indicator, index) => {
      indicator.addEventListener("click", () => {
        currentIndex = index;
        showSlide(currentIndex);
        stopAutoplay();
        startAutoplay();
      });
    });

    // Start autoplay
    startAutoplay();

    // Pause on hover
    const carouselWrapper = document.querySelector(".carousel-wrapper");
    carouselWrapper?.addEventListener("mouseenter", stopAutoplay);
    carouselWrapper?.addEventListener("mouseleave", startAutoplay);
  });
</script>
